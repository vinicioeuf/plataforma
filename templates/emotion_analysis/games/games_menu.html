{% extends 'base.html' %}
{% block title %}Jogos TerapÃªuticos - EmotionAI{% endblock %}
{% block content %}
<div class="container pb-5">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="page-heading"><i class="bi bi-controller"></i> Jogos TerapÃªuticos</h1>
            <p class="page-subtitle">ExperiÃªncias curtas de 3-5 minutos para equilibrar suas emoÃ§Ãµes.</p>
        </div>
    </div>
    <div class="row mb-4 g-3">
        <div class="col-md-4"><div class="card p-3 text-center"><h3 class="fw-bold mb-1">{{ total_games }}</h3><small class="text-muted">Jogos Completados</small></div></div>
        <div class="col-md-4"><div class="card p-3 text-center"><h3 class="fw-bold mb-1">{{ achievements|length }}</h3><small class="text-muted">Conquistas</small></div></div>
        <div class="col-md-4"><div class="card p-3 text-center"><h3 class="fw-bold mb-1">ğŸ”¥</h3><small class="text-muted">Continue jogando!</small></div></div>
    </div>
    {% if achievements %}
    <div class="card p-4 mb-4" style="background:rgba(13,18,40,0.85);color:white;">
        <h5 class="fw-bold mb-3"><i class="bi bi-trophy"></i> Suas Conquistas</h5>
        <div class="d-flex flex-wrap gap-3">
            {% for a in achievements %}
            <div class="text-center p-2" style="background:rgba(255,255,255,0.1);border-radius:12px;min-width:90px;">
                <div style="font-size:1.5rem;">ğŸ†</div>
                <small>{{ a.get_achievement_type_display }}</small>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    <div class="row g-4">
        <div class="col-md-4">
            <a href="{% url 'memory_game' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ§ </div>
                    <h5 class="fw-bold mt-2">Jogo da MemÃ³ria</h5>
                    <p class="text-muted small">Foque no momento presente</p>
                    <span class="badge bg-primary">~3 min</span>
                </div></div>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{% url 'breathing_exercise' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ«</div>
                    <h5 class="fw-bold mt-2">RespiraÃ§Ã£o Guiada</h5>
                    <p class="text-muted small">Acalme e regule emoÃ§Ãµes</p>
                    <span class="badge bg-success">~5 min</span>
                </div></div>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{% url 'color_matching_game' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ¨</div>
                    <h5 class="fw-bold mt-2">Jogo de Cores</h5>
                    <p class="text-muted small">Combine cores rapidamente</p>
                    <span class="badge bg-warning text-dark">~3 min</span>
                </div></div>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{% url 'emotion_identify_game' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ­</div>
                    <h5 class="fw-bold mt-2">Identificar EmoÃ§Ãµes</h5>
                    <p class="text-muted small">ReconheÃ§a diferentes emoÃ§Ãµes</p>
                    <span class="badge bg-info">~4 min</span>
                </div></div>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{% url 'gratitude_challenge' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ™</div>
                    <h5 class="fw-bold mt-2">Desafio da GratidÃ£o</h5>
                    <p class="text-muted small">Cultive gratidÃ£o diÃ¡ria</p>
                    <span class="badge bg-success">~3 min</span>
                </div></div>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{% url 'reflection_game' %}" class="text-decoration-none">
                <div class="card game-card h-100"><div class="card-body text-center p-4">
                    <div style="font-size:3.5rem;">ğŸ’­</div>
                    <h5 class="fw-bold mt-2">ReflexÃ£o Adaptativa</h5>
                    <p class="text-muted small">Perguntas adaptadas ao seu humor</p>
                    <span class="badge bg-secondary">~5 min</span>
                </div></div>
            </a>
        </div>
    </div>
    {% if top_games %}
    <div class="card p-4 mt-4">
        <h5 class="fw-bold mb-3"><i class="bi bi-bar-chart"></i> Melhores Resultados</h5>
        {% for game in top_games %}
        <div class="d-flex justify-content-between align-items-center mb-2 p-2" style="background:rgba(0,0,0,0.03);border-radius:8px;">
            <span>{{ game.game_name }}</span>
            <span class="badge bg-primary">{{ game.score }} pts</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
<style>
.game-card{transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;}
.game-card:hover{transform:translateY(-8px);box-shadow:0 15px 35px rgba(0,0,0,.2)!important;}
</style>
{% endblock %}
